version: "3.1"

stories:

- story: Greet and Start Story
  steps:
  - intent: greet
  - action: utter_greet
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true

- story: Start Story Directly
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true

- story: Continue Story
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: continue_story
  - action: action_handle_story

- story: Update Story
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: continue_story
  - action: action_handle_story
  - intent: continue_story
  - action: action_handle_story

- story: Continue Story before Starting with Greet
  steps:
  - intent: greet
  - action: utter_greet
  - intent: continue_story
  - action: action_handle_story
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true

- story: Continue Story before Starting
  steps:
  - intent: continue_story
  - action: action_handle_story
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: continue_story
  - action: action_handle_story

- story: Start New Story after Starting One
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: start_story
  - action: action_generate_story
  - intent: affirm
  - action: action_affirm_rewrite_story

- story: Start New Story after Starting One 1
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: start_story
  - action: action_generate_story
  - intent: affirm
  - action: action_affirm_rewrite_story

- story: Deny Rewrite Story
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: start_story
  - action: action_generate_story
  - intent: deny
  - action: action_deny_rewrite_story

- story: Deny Rewrite Story 1
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: start_story
  - action: action_generate_story
  - intent: deny
  - action: action_deny_rewrite_story

- story: Deny Rewrite Story 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: start_story
  - action: action_generate_story
  - intent: deny
  - action: action_deny_rewrite_story

- story: Start New Story after Continue
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: start_story
  - action: action_generate_story
  - intent: affirm
  - action: action_affirm_rewrite_story

- story: Deny Rewrite Story after Continue
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: start_story
  - action: action_generate_story
  - intent: deny
  - action: action_deny_rewrite_story

- story: Deny Rewrite Story after Continue 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: start_story
  - action: action_generate_story
  - intent: deny
  - action: action_deny_rewrite_story

- story: Random Affirm 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: affirm
  - action: action_affirm_rewrite_story

- story: Random Affirm 2
  steps:
  - intent: continue_story
  - action: action_handle_story
  - intent: affirm
  - action: action_affirm_rewrite_story

- story: Random Deny 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: deny
  - action: action_deny_rewrite_story

- story: Random Deny 2
  steps:
  - intent: continue_story
  - action: action_handle_story
  - intent: deny
  - action: action_deny_rewrite_story

- story: End Conversation 1 (affirm)
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_ask_save_conversation
  - intent: affirm
  - action: action_save_conversation

- story: End Conversation 2 (deny)
  steps:
  - intent: start_story
  - action: action_generate_story
  - slot_was_set:
      - story_started: true
  - intent: continue_story
  - action: action_handle_story
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_ask_save_conversation
  - intent: deny
  - action: action_save_conversation

- story: End Conversation 3 (affirm)
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_ask_save_conversation
  - intent: affirm
  - action: action_save_conversation

- story: End Conversation 4 (deny)
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_ask_save_conversation
  - intent: deny
  - action: action_save_conversation

- story: End Conversation 5 (affirm)
  steps:
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_ask_save_conversation
  - intent: affirm
  - action: action_save_conversation

- story: End Conversation 6 (deny)
  steps:
  - intent: goodbye
  - action: utter_goodbye
  - action: utter_ask_save_conversation
  - intent: deny
  - action: action_save_conversation
